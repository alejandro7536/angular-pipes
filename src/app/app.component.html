<div class="jumbotron jumbotron-fluid shadow head">
  <div class="container">
    <h1 class="display-4">Pipes</h1>
    <p class="lead">Ejemplo de pipes por defecto en Angular y pipes personalizados.</p>
    <img src="assets/img/pipe.png" style="height: 50px;">
  </div>
</div>

<div class="container mt-5">
  <div class="row">
    <div class="col">
      <table class="table">
        <thead class="thead-dark">
          <tr>
            <th>Vaiable</th>
            <th>Pipe</th>
            <th>Salida</th>
          </tr>
        </thead>
        <tbody>
          <tr>
            <td>{{nombre2}}</td>
            <td> <a href="#pipe">capitalizado</a> </td>
            <td>{{nombre2 | capitalizado}}</td>
          </tr>
          <tr>
            <td>{{nombre}}</td>
            <td>uppercase</td>
            <td>{{nombre | uppercase}}</td>
          </tr>
          <tr>
            <td>{{nombre}}</td>
            <td>lowercase</td>
            <td>{{nombre | lowercase}}</td>
          </tr>
          <tr>
            <td>{{nombre}}</td>
            <td>slice:7</td>
            <td>{{nombre | slice:7}}</td>
          </tr>
          <tr>
            <td>{{nombre}}</td>
            <td>slice:0:4</td>
            <td>{{nombre | slice:0:4}}</td>
          </tr>
          <tr>
            <td>{{arreglo}}</td>
            <td>slice:1:5</td>
            <td>{{arreglo | slice:1:5}}</td>
          </tr>
          <tr>
            <td>{{PI}}</td>
            <td>number</td>
            <td>{{PI | number}}</td>
          </tr>
          <tr>
            <td>{{PI}}</td>
            <td>number:'.0-2'</td>
            <td>{{PI | number:'.0-2'}}</td>
          </tr>
          <tr>
            <td>{{PI}}</td>
            <td>number:'1.0-0'</td>
            <td>{{PI | number:'1.0-0'}}</td>
          </tr>
          <tr>
            <td>{{porcentaje}}</td>
            <td>percent</td>
            <td>{{porcentaje | percent}}</td>
          </tr>
          <tr>
            <td>{{porcentaje}}</td>
            <td>percent:'2.2-2'</td>
            <td>{{porcentaje | percent:'2.2-2'}}</td>
          </tr>
          <tr>
            <td>{{salario}}</td>
            <td>currency</td>
            <td>{{salario | currency}}</td>
          </tr>
          <tr>
            <td>{{salario}}</td>
            <td>currency:'EUR'</td>
            <td>{{salario | currency:'EUR'}}</td>
          </tr>
          <tr>
            <td>{{salario}}</td>
            <td>currency:'CAD ':'symbol-narrow':'.0-0'</td>
            <td>{{salario | currency:'CAD ':'symbol-narrow':'.0-0'}}</td>
          </tr>
          <tr>
            <td>{{valorPromesa}}</td>
            <td>async</td>
            <td>{{valorPromesa | async}}</td>
          </tr>
          <tr>
            <td>{{fecha}}</td>
            <td>date</td>
            <td>{{fecha | date}}</td>
          </tr>
          <tr>
            <td>{{fecha}}</td>
            <td>date:'medium'</td>
            <td>{{fecha | date:'medium'}}</td>
          </tr>
          <tr>
            <td>{{fecha}}</td>
            <td>date:'short'</td>
            <td>{{fecha | date:'short'}}</td>
          </tr>
          <tr>
            <td>{{fecha}}</td>
            <td>date:'MMMM - dd'</td>
            <td>{{fecha | date:'MMMM - dd'}}</td>
          </tr>
          <tr>
            <td>{{fecha}}</td>
            <td>date:'dd/MM/yyyy'</td>
            <td>{{fecha | date:'dd/MM/yyyy'}}</td>
          </tr>
          <tr>
            <td>{{fecha}}</td>
            <td>date:'MMMM - dd':'':'{{idioma}}'
              <br>
              <button (click)="idioma='es'" class="mr-1 btn btn-primary">Español</button>
              <button (click)="idioma='en'" class="mr-1 btn btn-secondary">Inglés</button>
              <button (click)="idioma='fr'" class="mr-1 btn btn-success">Frances</button>
            </td>
            <td>{{fecha | date:'MMMM - dd':'':idioma}}</td>
          </tr>

          <tr>
            <td>{{nombre}}</td>
            <td> <a href="#pass">
                password
              </a><br><br>
              <button class="btn btn-outline-primary" (click)="activar = !activar">Activar/desactivar</button>
            </td>
            <td>{{nombre | password:activar}}</td>
          </tr>
        </tbody>

      </table>
    </div>
  </div>

  <div class="row mb-5 mt-5">
    <div class="col">
      <h3>
        JSON
      </h3>
      <hr>

      <pre>
        <code>
          {{heroe | json}}

        </code>
      </pre>
    </div>
  </div>

  <div class="row mb-5 mt-5" id="pipe">
    <div class="col">
      <h3>
        Pipe personalizado: <b>capitalizado</b>
      </h3>
      <hr>

      <pre>
        <code>{{"
  import { Pipe, PipeTransform } from '@angular/core';

  @Pipe({
    name: 'capitalizado'
  })
  export class CapitalizadoPipe implements PipeTransform {

    transform(nombre: string, todas: boolean = true): string {

      nombre = nombre.toLowerCase();
      let nombres = nombre.split(' ');

      if(todas) {
        nombres = nombres.map( nombre => {
          return nombre[0].toUpperCase() + nombre.substr(1);
        });
      } else {
        nombres[0] = nombres[0][0].toUpperCase() + nombres[0].substr(1);
      }
      return nombres.join(' ');
    }
  }
          "}}</code>
      </pre>

    </div>
  </div>

  <div class="row mb-5 mt-5">
    <div class="col">
      <h3>
        Pipe personalizado: <b>domseguro</b>
      </h3>
      <hr>
      <div class="embed-responsive embed-responsive-16by9">

        <iframe width="560" height="315" [src]="videoUrl | domseguro" frameborder="0"
          allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen
          class="embed-responsive-item"></iframe>
      </div>
      <br><br>
      <h5>Pipe</h5>
      <pre>
        <code>
{{"  import { Pipe, PipeTransform } from '@angular/core';

  import { DomSanitizer, SafeResourceUrl } from '@angular/platform-browser';

  @Pipe({
    name: 'domseguro'
  })
  export class DomseguroPipe implements PipeTransform {

    constructor(
      private domSanitazer: DomSanitizer
    ) {}

    transform(value: string): SafeResourceUrl {
      return this.domSanitazer.bypassSecurityTrustResourceUrl(value);
    }
  }"}}
        </code>
      </pre>
    </div>

  </div>

  <div class="row mb-5 mt-5" id="pass">
    <div class="col">
      <h3>
        Pipe personalizado: <b>password</b>
      </h3>
      <hr>

      <pre>
        <code>{{"
  import { Pipe, PipeTransform } from '@angular/core';

  @Pipe({
    name: 'password'
  })
  export class PasswordPipe implements PipeTransform {

    transform(value: string, activar: boolean = false): string {
      return (activar) ? '*'.repeat(value.length) : value;
    }

  }"
}}</code>
      </pre>

    </div>
  </div>

  <div class="row mb-5 mt-5" id="pass">
    <div class="col">
      <h3>
        Pipe personalizado: <b>ordenarNombre</b>
      </h3>
      <p>Ordena las palabras enviadas como argumento de un arreglo</p>
      <hr>

      <pre>
        <code>{{"
  import { Pipe, PipeTransform } from '@angular/core';

  @Pipe({
    name: 'ordenarNombre'
  })
  export class OrdenarNombrePipe implements PipeTransform {

    transform(value: any): any {
      return value.sort((x, y) => {
        if ( x.name < y.name) {
          return -1;
        }
        if( x.name > y.name ) {
          return 1;
        }
        return 0;
      });
    }
  }

  "}}</code>
      </pre>

    </div>
  </div>

  <div class="row mb-5 mt-5" id="pass">
    <div class="col">
      <h3>
        Pipe personalizado: <b>buscarNombre</b>
      </h3>
      <p>Hace una busqueda en un arreglo enviando el nombre como argumento</p>
      <hr>

      <pre>
        <code>{{"
  import { Pipe, PipeTransform } from '@angular/core';

  @Pipe({
    name: 'buscarNombre'
  })
  export class BuscarNombrePipe implements PipeTransform {

    transform(value: any, arg: any): any {
      const buscarpornombre = [];
      for ( const recorrido of value) {
        if (recorrido.name.toLowerCase().indexOf(arg.toLowerCase()) > -1) {
          buscarpornombre.push(recorrido);
        }
      }
      return buscarpornombre;
    }
  }
  "}}</code>
      </pre>

    </div>
  </div>
</div>
<footer class="text-center">
  <div class="container">
    <div class="row">
      <div class="col-lg-12 col-xs-12 about-company">
        <h2>Luis Alejandro Alas</h2>
        <a href="https://www.linkedin.com/in/luis-alejandro-alas-gonz%C3%A1lez-0b6131125/" target="_blank">
          <i class="fab fa-linkedin text-white"></i>
        </a>
      </div>
    </div>
    <div class="row mt-5">
      <div class="col copyright">
        <p class=""><small class="text-white-50">© {{year}}. All Rights Reserved.</small></p>
      </div>
    </div>
  </div>

</footer>
